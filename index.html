<!DOCTYPE html>
<html>
    <head>
        <title>Game Of Life</title>
        <link rel="stylesheet" href="style.css">
        <meta lang="it">
    </head>
    
    <body>
        
        <button onclick=cleartable() id="kill">kill everything</button>
        <button onclick=toggleRun() id="kill">start/pause</button>
        <div id="spacer"></div>
        <div id="main" border="2px"></div>
        
        
        <script>
            var GameField=[10,11];
            let cells=[0,0];
            var main = document.getElementById("main");
            let Rows=50;
            let Columns=50;
            var run = false;
            var count=0;
            var colPlus=Columns+1;
            var rowPlus=Rows+1;
            var u;
            var d;
            var r;
            var l;

            for(i=0; i<=rowPlus; i++){
                
             GameField[i]=[];
    
                for(j=0; j<=colPlus; j++){
        
                  GameField[i][j]=0;
                }
            }
            
            for(i=1; i<rowPlus; i++){
    
                for(j=1; j<colPlus; j++){
                    
                    main.innerHTML+="<button id="+i+"."+j+" class=cell onClick=toggleCell(this.id) style=background-color:#283639;></button>"
                
                }
            }
            
            function toggleCell(rowCol){
                var pos = rowCol.split(".");
                
                if(GameField[pos[0]][pos[1]]==0){
                    event.target.style["background-color"]="green";
                    GameField[pos[0]][pos[1]]=1;
                } else{
                    event.target.style["background-color"]="#283639";
                    GameField[pos[0]][pos[1]]=0;
                }
            }
            
            function cleartable(){
                
                for(i=1; i<51; i++){
    
                    for(j=1; j<51; j++){
        
                        GameField[i][j]=0;
                        
                        document.getElementById(i+"."+j).setAttribute("style", "background-color:#283639;");
                    }
                }
                
            }
            
            function toggleRun(){
                console.log(GameField);
                if(run){
                    run=false;
                    console.log("no");
                }else{
                    run=true;
                    console.log("si");
                }
            }
            
            function play(){
                if(run){
                for(i=1; i<50; i++){
                    for(j=1; j<50; j++){
                        u=i+1;
                        d=i-1;
                        r=j+1;
                        l=j-1;
                        count=GameField[u][j]+GameField[u][r]+GameField[i][r]+GameField[d][r]+GameField[d][j]+GameField[d][l]+GameField[i][l]+GameField[u][l];
                        if(count!=0){
                            console.log(count);
                           /* console.log(GameField[i++][j]);
                            console.log(GameField[i++][j++]);
                            console.log(GameField[i][j++]);
                            console.log(GameField[i--][j++]);
                            console.log(GameField[i--][j]);
                            console.log(GameField[i--][j--]);
                            console.log(GameField[i][j--]);
                            console.log(GameField[i++][j--]);*/
                            console.log(i+" "+j);
                        }
                        
                    }
                }
            }
            }
            
            setInterval(play,1000);
            
        </script>
    </body>
</html>